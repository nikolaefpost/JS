<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>JS_DZ_Modul_1_Week_2_</title>
<script type="text/javascript">

	function age () {
		const userAge = prompt("Введите ваш возраст цифрами:", "25");
		const p = /^[0-9]+$/g;
		if (p.test(userAge)) {
			if(userAge >= 0 && userAge<12) nuberArea0.innerHTML= 'Вы ещё ребенок.';
			if(userAge >= 12 && userAge<18) nuberArea0.innerHTML= 'Вы уже подросток.';
			if(userAge >= 18 && userAge<60) nuberArea0.innerHTML= 'Вы взрослый человек.';
			if(userAge >= 60) nuberArea0.innerHTML= 'Жизнь только начинается, вы пенсионер!';
		}
		else nuberArea0.innerHTML= 'Нам нужна только цифра, сэр!';
	}

	function specialSymbol (){
		const buttonNumber = document.getElementById("FormButton").options.selectedIndex;
		switch (buttonNumber) {
			case 0:
			nuberArea1.innerHTML= 'Ваш символ _)_';
			break;
			case 1:
			nuberArea1.innerHTML= 'Ваш символ _!_';
			break;
			case 2:
			nuberArea1.innerHTML= 'Ваш символ _@_';
			break;
			case 3:
			nuberArea1.innerHTML= 'Ваш символ _#_';
			break;
			case 4:
			nuberArea1.innerHTML= 'Ваш символ _$_';
			break;
			case 5:
			nuberArea1.innerHTML= 'Ваш символ _%_';
			break;
			case 6:
			nuberArea1.innerHTML= 'Ваш символ _^_';
			break;
			case 7:
			nuberArea1.innerHTML= 'Ваш символ _&_';
			break;
			case 8:
			nuberArea1.innerHTML= 'Ваш символ _*_';
			break;
			case 9:
			nuberArea1.innerHTML= 'Ваш символ _(_';
			break;
			default:
			nuberArea1.innerHTML= 'Нужно выбрать клавишу от 0 до 9';
		}
	}

	function sameNumbers() {         																					// работает с любыми символами
		const userNumber = prompt("Введите любое число:", "123678943");
		nuberArea.innerHTML= 'В числе: '+ userNumber;
		var arrayOfStrings = userNumber.split('');
		let m=0;
		for (let i = 0; i < arrayOfStrings.length; i++){
			let j=i, k=0;
			while (j>=0 ) {
				j =	arrayOfStrings.indexOf(arrayOfStrings[i], ++j);
				if (arrayOfStrings[i] && j>=0) {
					arrayOfStrings[j]=null;
					k++;
				}
				if	(j==-1 && k>0)  {
					nuberArea.innerHTML+= ', число '+ arrayOfStrings[i] + ' повторяется ' + k +' раз(а)';
					m++
				}
			}
		}
		if (m<=0) nuberArea.innerHTML+= ', числа не повторяются.';
	}


	function leapYear () {
		const userYear = prompt("Введите интересующий вас год:", "2020");
		const p = /^[0-9]{4,4}$/g;
		if (p.test(userYear)) {
			if(( userYear % 4 == 0  && userYear % 100 == 0 && userYear % 400 == 0) || (userYear % 4 == 0  && userYear % 100 != 0)) yearArea.innerHTML=userYear +' -этот год высокосный';
			else yearArea.innerHTML=userYear +' -этот год не высокосный';
		}
		else alert("Нам нужна только 4х значная цифра, сэр!");
	}

	function Palindrome () {																								// работает с любыми символами
		const userNumber = prompt("Введите любое число:", "123454321");
		let i=0;
		if	(isPalindrome(userNumber,i))  nuberArea2.innerHTML= 'Число '+ userNumber + ' является палиндромом.';
		else nuberArea2.innerHTML= 'Число '+ userNumber + ' не является палиндромом.';
		function isPalindrome(s,i) {
			return (i=i||0)<0||i>=s.length>>1||s[i]==s[s.length-1-i]&&isPalindrome(s,++i);
		}
	}

	function currencyExchange () {
		let amountMoney = document.getElementById('amount').value;
		const p = /^\d+(?:[\.,]\d+)?$/g;
		const EURO = .85015;
		const UAN = 28.19630;
		const RUB = 77.11482;
		let rezult_=0;
		if (p.test(amountMoney)) {
			if (document.getElementById('r1').checked)  rezult_=(amountMoney*EURO).toFixed(2) +' EURO';
			if (document.getElementById('r2').checked)  rezult_=(amountMoney*UAN).toFixed(2) +' UAN';
			if (document.getElementById('r3').checked)  rezult_=(amountMoney*RUB).toFixed(2) +' RUB';
			field.innerHTML=amountMoney + '$ '+ 'составляет ' +rezult_;
		}
	}
</script>
<style media="screen">
	#field{
		width: 200px;
		background: white;
		display: block;
	}
	#FormButton{
		float: right;
		padding:5px 10px ;
		font-size: 22px;
		margin-bottom: 10px;
	}
	.button{
		padding:5px 35px ;
		font-size: 22px;
		margin-bottom: 10px;
		float: right;
		width: 200px;
		flex: 0 0 200px;
	}
	br{clear: both;}

	.main{
		background:#b8d5e3;
		padding:2vmin 4vmin;
		width:50%; margin-left:auto;
		margin-right:auto;
		margin-top:10vh;
	}
	.short{ width: 350px;
		display: inline-block;
		font-size: 18px;
		margin-top: 10px;
		flex: 0 0 350px;
	}
	.text{
		text-align: left;
		margin-top: 10px;
	}
	.divFlex{
		display: flex;
		justify-content: space-between;
	}
</style>
</head>
<body >
	<div class="main" >

		<div class="divFlex">
			<span class="short">Сколько вам лет?</span><span class="text" id="nuberArea0" ></span>
			<button class="button" type="button" onclick="age ();">нажать</button>
		</div>

		<div class="divFlex">
			<span class="short">Выведем спецсивлолы клавиш:</span><span class="text" id="nuberArea1" ></span>
			<select class="button" name="FormButton" id="FormButton" onchange="specialSymbol ()">
				<option  VALUE="0">клавиша 0 </option>
				<option  VALUE="1">клавиша 1</option>
				<option VALUE="2">клавиша 2</option>
				<option VALUE="3">клавиша 3</option>
				<option VALUE="4">клавиша 4</option>
				<option VALUE="5">клавиша 5</option>
				<option VALUE="6">клавиша 6</option>
				<option VALUE="7">клавиша 7</option>
				<option VALUE="8">клавиша 8</option>
				<option VALUE="9">клавиша 9</option>
				<option selected VALUE="11">ваш выбор:</option>
			</select>
		</div>

		<div class="divFlex">
			<span class="short">Найдем одинаковые числа:</span><span class="text" id="nuberArea" ></span>
			<button class="button" type="button" onclick="sameNumbers();">нажать</button>
		</div>

		<div class="divFlex">
			<span class="short">Проверим год на высокосность:</span><span class="text"  id="yearArea" ></span>
			<button class="button" type="button" onclick="leapYear ();">нажать</button>
		</div>

		<div class="divFlex">
			<span class="short">Проверим является ли строка палиндромом:</span><span class="text"  id="nuberArea2" ></span>
			<button class="button" type="button" onclick="Palindrome ();">нажать</button>
		</div>

		<h3>Конвертор валют</h3>
		<form name="test" method="post" action="#" class="divFlex">
			<p><b>Введите сумму, $:</b><br>
				<input type="text" size="20"  id="amount">
			</p>
			<p><b>Выберете валюту, текущийй курс:</b><Br>
				<input type="radio" name="browser" id="r1"> EUR - 0.85015<Br>
				<input type="radio" name="browser" id="r2"> UAN - 28.1963<Br>
				<input type="radio" name="browser" id="r3"> RUB - 77.1148<Br>
			</p>
			<p>Результат<Br>
				<span id="field"></span>
			</p>
			<p style="flex: 0 0 200px;"><button class="button" type="button"  onclick="currencyExchange();">расчитать</button><br>
				<button class="button" type="reset" >очистить</button>
			</p>
		</form>

	</div>
</body>
</html>
